(window.webpackJsonp=window.webpackJsonp||[]).push([[276],{1299:function(e,t,n){var a=n(313),r=n(1300);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1300:function(e,t,n){(t=n(314)(!1)).push([e.i,".branch-like-navigation-toggler-container .popup{min-width:430px;max-width:650px}.branch-like-navigation-menu .search-box-container{padding:8px}.branch-like-navigation-menu .search-box-container .search-box,.branch-like-navigation-menu .search-box-container .search-box-input{max-width:none!important}.branch-like-navigation-menu .item-list{padding-bottom:8px;max-height:300px;overflow-y:auto}.branch-like-navigation-menu .item{padding:4px 8px}.branch-like-navigation-menu .item.header{color:#777}.branch-like-navigation-menu .item:not(.header).active,.branch-like-navigation-menu .item:not(.header):hover{background-color:#f3f3f3;cursor:pointer}.branch-like-navigation-menu .hint-container{padding:8px;background-color:#f3f3f3;border-top:1px solid #e6e6e6}",""]),e.exports=t},1301:function(e,t,n){var a=n(313),r=n(1302);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1302:function(e,t,n){(t=n(314)(!1)).push([e.i,".header-meta-warnings .alert{margin-bottom:0}.header-meta-warnings .alert-content{padding:6px 8px}",""]),e.exports=t},1303:function(e,t,n){var a=n(313),r=n(1304);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1304:function(e,t,n){(t=n(314)(!1)).push([e.i,".navbar-tabs>li>a.menu-button{color:#236a97}.navbar-tabs>li>a.menu-button:hover{color:#4b9fd5;border-bottom-color:transparent}.navbar-tabs>li>a.disabled-link,.navbar-tabs>li>a.disabled-link:hover{color:#b4b4b4;cursor:default;border-bottom-color:transparent}",""]),e.exports=t},1305:function(e,t,n){var a=n(313),r=n(1306);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1306:function(e,t,n){(t=n(314)(!1)).push([e.i,".navbar-inner-with-notif .info-drawer{border-top:1px solid #e6e6e6}.info-drawer-pane{background-color:#fff;right:-380px;width:380px;transition:right .3s ease-in-out;border-left:1px solid #e6e6e6;box-sizing:border-box}.info-drawer-pane.open{right:0}.info-drawer{position:fixed;bottom:0;z-index:51}.info-drawer .close-button{position:absolute;top:0;right:0;background:#fff;padding:16px;z-index:2}.info-drawer .back-button{cursor:pointer}.info-drawer .back-button:hover{color:#4b9fd5}.info-drawer-page{position:absolute;top:0;bottom:0}",""]),e.exports=t},1312:function(e,t,n){var a=n(313),r=n(1313);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1313:function(e,t,n){(t=n(314)(!1)).push([e.i,".badges-list{display:flex;justify-content:space-around;justify-content:space-evenly;flex-wrap:nowrap}.button.badge-button{display:flex;justify-content:center;padding:8px;min-width:146px;height:116px;background-color:#f3f3f3;border:1px solid #e6e6e6;border-radius:3px;transition:all .3s ease}.button.badge-button:active,.button.badge-button:focus,.button.badge-button:hover{background-color:#f3f3f3;border-color:#4b9fd5;box-shadow:none}.button.badge-button.selected{background-color:#cae3f2;border-color:#236a97}",""]),e.exports=t},1314:function(e,t,n){var a=n(313),r=n(1315);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1315:function(e,t,n){(t=n(314)(!1)).push([e.i,".project-info-list>li{padding-left:1px;padding-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project-info-tags{position:relative}.project-info-deleted-profile,.project-info-deprecated-rules{margin:4px -6px;padding:3px 6px!important;border:1px solid #f4b1b0;border-radius:3px;background-color:#f2dede}.project-info-deleted-profile a,.project-info-deprecated-rules a{color:#0e516f;border-color:darken(#cae3f2)}",""]),e.exports=t},1843:function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentContainer",(function(){return rn}));var a=n(689),r=n.n(a),s=n(2),i=n(325),o=n(608),c=n(582),l=n(367),p=n(553),u=n(366),h=n(328),m=n(321),d=n(477),b=n(335),g=n(552),f=n(334),v=n(318),y=n(31);function k(){return s.createElement(s.Fragment,null,s.createElement(f.a,{defaultTitle:Object(y.translate)("404_not_found"),defer:!1}),s.createElement("div",{className:"page-wrapper-simple",id:"bd"},s.createElement("div",{className:"page-simple",id:"nonav"},s.createElement("h2",{className:"big-spacer-bottom"},Object(y.translate)("dashboard.project_not_found")),s.createElement("p",{className:"spacer-bottom"},Object(y.translate)("dashboard.project_not_found.2")),s.createElement("p",null,s.createElement(v.Link,{to:"/"},Object(y.translate)("go_back_to_homepage"))))))}var E=n(690),j=n(763),O=n(311),_=n(833),N=n.n(_),L=n(345),C=n(766),w=n(319),x=n(322),P=n(584),S=n(1034),q=n(514);class T extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1},this.fetchIsValidLicense=()=>{this.setState({loading:!0}),Object(S.a)().then(({isValidLicense:e})=>{this.mounted&&this.setState({isValidLicense:e,loading:!1})},()=>{this.mounted&&this.setState({loading:!1})})}}componentDidMount(){this.mounted=!0,this.fetchIsValidLicense()}componentWillUnmount(){this.mounted=!1}render(){const{currentTask:e}=this.props,{isValidLicense:t,loading:n}=this.state;return!n&&e&&e.errorType?t&&"LICENSING_LOC"!==e.errorType?s.createElement(x.Alert,{display:"banner",variant:"error"},Object(y.translateWithParameters)("component_navigation.status.last_blocked_due_to_bad_license_X",Object(y.translate)("qualifier",e.componentQualifier||b.a.Project))):s.createElement(x.Alert,{display:"banner",variant:"error"},s.createElement("span",{className:"little-spacer-right"},e.errorMessage),this.props.appState.canAdmin?s.createElement(v.Link,{to:"/admin/extension/license/app"},Object(y.translate)("license.component_navigation.button",e.errorType),"."):Object(y.translate)("please_contact_administrator")):null}}var B=Object(q.a)(T);class D extends s.PureComponent{renderMessage(e,t,n){const{component:a,currentTask:r}=this.props,i=a.configuration&&a.configuration.showBackgroundTasks;let o,c;return r&&Object(y.hasMessage)("background_task.type",r.type)&&(e+="_X",o=Object(y.translate)("background_task.type",r.type)),i&&(e+=".admin",c=s.createElement(v.Link,{to:Object(m.g)(a.key,t)},Object(y.translate)("background_tasks.page"))),s.createElement(w.FormattedMessage,{defaultMessage:Object(y.translate)(e),id:e,values:{branch:n,url:c,type:o}})}render(){const{currentTask:e,currentTaskOnSameBranch:t,isInProgress:n,isPending:a}=this.props;if(n)return s.createElement(x.Alert,{display:"banner",variant:"info"},this.renderMessage("component_navigation.status.in_progress"));if(a)return s.createElement(x.Alert,{display:"banner",variant:"info"},this.renderMessage("component_navigation.status.pending",P.e.ALL));if(e&&e.status===g.a.Failed){if(e.errorType&&Object(y.hasMessage)("license.component_navigation.button",e.errorType))return s.createElement(B,{currentTask:e});const n=e.branch||"".concat(e.pullRequest).concat(e.pullRequestTitle?" - "+e.pullRequestTitle:"");let a;return a=!1===t&&n?this.renderMessage("component_navigation.status.failed_branch",void 0,n):this.renderMessage("component_navigation.status.failed"),s.createElement(x.Alert,{display:"banner",variant:"error"},a)}return null}}var I=n(755),A=n(347),M=n(326),R=n(358),U=n.n(R),F=(n(1299),n(324)),W=n.n(F),z=n(337),K=n.n(z),G=n(692),H=n.n(G),J=n(654),Q=n(585);var V=s.memo((function(e){const{branchesEnabled:t,component:n,component:{configuration:a},currentBranchLike:r,hasManyBranches:i}=e,o=Object(h.b)(r),c=n.qualifier===b.a.Application,l=a&&a.showSettings;return s.createElement("span",{className:"display-flex-center flex-shrink text-ellipsis"},s.createElement(Q.a,{branchLike:r}),s.createElement("span",{className:"spacer-left spacer-right flex-shrink text-ellipsis js-branch-like-name",title:o},o),(()=>{const e=s.createElement(H.a,{fill:L.colors.blue,size:12});if(t&&i)return s.createElement(K.a,null);if(c){if(!i&&l)return s.createElement(W.a,{overlay:s.createElement(s.Fragment,null,s.createElement("p",null,Object(y.translate)("application.branches.help")),s.createElement("hr",{className:"spacer-top spacer-bottom"}),s.createElement(v.Link,{to:Object(m.b)(n.key)},Object(y.translate)("application.branches.link")))},e)}else{if(!t)return s.createElement(J.a,{content:Object(y.translate)("branch_like_navigation.no_branch_support.content"),"data-test":"branches-support-disabled",links:[{href:"https://redirect.sonarsource.com/editions/developer.html",label:Object(y.translate)("learn_more")}],title:Object(y.translate)("branch_like_navigation.no_branch_support.title")},e);if(!i)return s.createElement(J.a,{content:Object(y.translate)("branch_like_navigation.only_one_branch.content"),"data-test":"only-one-branch-like",links:[{href:"/documentation/branches/overview/",label:Object(y.translate)("branch_like_navigation.only_one_branch.documentation")},{href:"/documentation/analysis/pull-request/",label:Object(y.translate)("branch_like_navigation.only_one_branch.pr_analysis")}],title:Object(y.translate)("branch_like_navigation.only_one_branch.title")},e)}return null})())})),X=n(327),Y=n.n(X),Z=n(350),$=n.n(Z),ee=n(832),te=n(421),ne=n(386),ae=n(769);var re=s.memo((function(e){const{branchLike:t,component:n,indent:a,setSelectedNode:r,onSelect:i,selected:o}=e,c=Object(h.b)(t);return s.createElement("li",{className:O("item",{active:o}),onClick:()=>i(t),ref:o?r:void 0},s.createElement("div",{className:O("display-flex-center display-flex-space-between",{"big-spacer-left":a})},s.createElement("div",{className:"item-name text-ellipsis",title:c},s.createElement(Q.a,{branchLike:t}),s.createElement("span",{className:"spacer-left"},c),Object(h.g)(t)&&s.createElement("span",{className:"badge spacer-left"},Object(y.translate)("branches.main_branch"))),s.createElement("div",{className:"spacer-left"},s.createElement(ae.a,{branchLike:t,component:n.key}))))}));var se=s.memo((function(e){let t=null,n=null;s.useEffect(()=>{t&&n&&Object(te.scrollToElement)(n,{parent:t,smooth:!1})});const{branchLikeTree:a,component:r,hasResults:i,onSelect:o,selectedBranchLike:c}=e,l=(e,t)=>s.createElement(re,{branchLike:e,component:r,indent:t,key:Object(h.c)(e),onSelect:o,selected:Object(h.i)(e,c),setSelectedNode:e=>n=e});return s.createElement("ul",{className:"item-list",ref:e=>t=e},!i&&s.createElement("li",{className:"item"},s.createElement("span",{className:"note"},Object(y.translate)("no_results"))),[a.mainBranchTree,...a.branchTree].filter(ne.isDefined).map(e=>s.createElement(s.Fragment,{key:Object(h.c)(e.branch)},l(e.branch),e.pullRequests.length>0&&s.createElement(s.Fragment,null,s.createElement("li",{className:"item header"},s.createElement("span",{className:"big-spacer-left"},Object(y.translate)("branch_like_navigation.pull_requests"))),e.pullRequests.map(e=>l(e,!0))),s.createElement("hr",null))),a.parentlessPullRequests.length>0&&s.createElement(s.Fragment,null,s.createElement("li",{className:"item header"},Object(y.translate)("branch_like_navigation.pull_requests")),a.parentlessPullRequests.map(e=>l(e))),a.orphanPullRequests.length>0&&s.createElement(s.Fragment,null,s.createElement("li",{className:"item header"},Object(y.translate)("branch_like_navigation.orphan_pull_requests"),s.createElement(W.a,{className:"little-spacer-left",overlay:Object(y.translate)("branch_like_navigation.orphan_pull_requests.tooltip")})),a.orphanPullRequests.map(e=>l(e))))}));function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class le extends s.PureComponent{constructor(e){super(e),this.processBranchLikes=e=>{const t=Object(h.e)(e);return{branchLikesToDisplay:[...t.mainBranchTree?[t.mainBranchTree.branch,...t.mainBranchTree.pullRequests]:[],...t.branchTree.reduce((e,t)=>[...e,t.branch,...t.pullRequests],[]),...t.parentlessPullRequests,...t.orphanPullRequests],branchLikesToDisplayTree:t}},this.openHighlightedBranchLike=()=>{this.state.selectedBranchLike&&this.handleOnSelect(this.state.selectedBranchLike)},this.highlightSiblingBranchlike=e=>{const t=this.state.branchLikesToDisplay.findIndex(e=>Object(h.i)(e,this.state.selectedBranchLike)),n=t+e;-1!==t&&n>=0&&n<this.state.branchLikesToDisplay.length&&this.setState(({branchLikesToDisplay:e})=>({selectedBranchLike:e[n]}))},this.handleKeyDown=e=>{switch(e.keyCode){case ee.KeyCodes.Enter:e.preventDefault(),this.openHighlightedBranchLike();break;case ee.KeyCodes.UpArrow:e.preventDefault(),this.highlightSiblingBranchlike(-1);break;case ee.KeyCodes.DownArrow:e.preventDefault(),this.highlightSiblingBranchlike(1)}},this.handleSearchChange=e=>{const t=e.toLowerCase(),n=this.props.branchLikes.filter(e=>{return a=e,Object(h.f)(a)&&a.name.toLowerCase().includes(t)||(n=e,Object(h.h)(n)&&(n.title.toLowerCase().includes(t)||n.key.toLowerCase().includes(t)));var n,a});this.setState(oe({query:t,selectedBranchLike:n.length>0?n[0]:void 0},this.processBranchLikes(n)))},this.handleOnSelect=e=>{this.setState({selectedBranchLike:e},()=>{this.props.onClose(),this.props.router.push(Object(m.c)(this.props.component.key,e))})};let t=void 0;e.branchLikes.some(t=>Object(h.i)(t,e.currentBranchLike))?t=e.currentBranchLike:e.branchLikes.length>0&&(t=e.branchLikes[0]),this.state=oe({query:"",selectedBranchLike:t},this.processBranchLikes(e.branchLikes))}render(){const{canAdminComponent:e,component:t,onClose:n}=this.props,{branchLikesToDisplay:a,branchLikesToDisplayTree:r,query:i,selectedBranchLike:o}=this.state,c=t.qualifier===b.a.Project&&e,l=a.length>0;return s.createElement(X.DropdownOverlay,{className:"branch-like-navigation-menu",noPadding:!0},s.createElement("div",{className:"search-box-container"},s.createElement($.a,{autoFocus:!0,onChange:this.handleSearchChange,onKeyDown:this.handleKeyDown,placeholder:Object(y.translate)("branch_like_navigation.search_for_branch_like"),value:i})),s.createElement("div",{className:"item-list-container"},s.createElement(se,{branchLikeTree:r,component:t,hasResults:l,onSelect:this.handleOnSelect,selectedBranchLike:o})),c&&s.createElement("div",{className:"hint-container text-right"},s.createElement(v.Link,{onClick:()=>n(),to:{pathname:"/project/branches",query:{id:t.key}}},Object(y.translate)("branch_like_navigation.manage"))))}}var pe=Object(u.a)(le);var ue=Object(q.a)(s.memo((function(e){const{appState:{branchesEnabled:t},branchLikes:n,component:a,component:{configuration:r},currentBranchLike:i}=e,[o,c]=s.useState(!1),l=r&&r.showSettings,p=n.length>=2,u=t&&p,h=s.createElement(V,{branchesEnabled:Boolean(t),component:a,currentBranchLike:i,hasManyBranches:p});return s.createElement("span",{className:O("big-spacer-left flex-0 branch-like-navigation-toggler-container",{dropdown:u})},u?s.createElement(U.a,{onRequestClose:()=>c(!1),open:o,overlay:s.createElement(pe,{branchLikes:n,canAdminComponent:l,component:a,currentBranchLike:i,onClose:()=>c(!1)})},s.createElement("a",{className:"link-base-color link-no-underline",href:"#",onClick:()=>c(!o)},h)):h)})));var he=s.memo((function(e){const{currentBranchLike:t}=e;return Object(h.h)(t)?s.createElement("span",{className:"big-spacer-left flex-shrink note text-ellipsis"},s.createElement(w.FormattedMessage,{defaultMessage:Object(y.translate)("branch_like_navigation.for_merge_into_x_from_y"),id:"branch_like_navigation.for_merge_into_x_from_y",values:{target:s.createElement("strong",null,t.target),branch:s.createElement("strong",null,t.branch)}})):null})),me=n(651),de=n.n(me),be=n(340),ge=n.n(be);function fe(e){const{component:{breadcrumbs:t},currentBranchLike:n}=e,a=de()(t),r=n&&!Object(h.g)(n);return s.createElement("div",{className:"big flex-shrink display-flex-center"},t.map((e,n)=>{const i=0===n,o=n<t.length-1;return s.createElement("span",{className:"flex-shrink display-flex-center",key:e.key},i&&a&&s.createElement(ge.a,{className:"spacer-right",qualifier:a.qualifier}),r||o?s.createElement(v.Link,{className:"link-no-underline text-ellipsis",title:e.name,to:Object(m.k)(e.key,e.qualifier)},e.name):s.createElement("span",{className:"text-ellipsis",title:e.name},e.name),o&&s.createElement("span",{className:"slash-separator"}))}))}s.memo(fe);var ve=Object(i.connect)(e=>({currentUser:Object(M.getCurrentUser)(e)}))(s.memo((function(e){const{branchLikes:t,component:n,currentBranchLike:a,currentUser:r}=e;return s.createElement(s.Fragment,null,s.createElement(f.a,{title:n.name}),s.createElement("header",{className:"display-flex-center flex-shrink"},s.createElement(fe,{component:n,currentBranchLike:a}),Object(A.b)(r)&&s.createElement(I.a,{className:"spacer-left",component:n.key,favorite:Boolean(n.isFavorite),qualifier:n.qualifier}),a&&s.createElement(s.Fragment,null,s.createElement(ue,{branchLikes:t,component:n,currentBranchLike:a}),s.createElement(he,{currentBranchLike:a}))))}))),ye=n(397),ke=n.n(ye),Ee=n(361),je=n.n(Ee),Oe=n(610),_e=n(332);const Ne=Object(_e.lazyLoadComponent)(()=>n.e(15).then(n.bind(null,1838)),"AnalysisWarningsModal");class Le extends s.PureComponent{constructor(){super(...arguments),this.state={modal:!1},this.handleClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.setState({modal:!0})},this.handleCloseModal=()=>{this.setState({modal:!1})}}render(){return s.createElement(s.Fragment,null,s.createElement(x.Alert,{className:"js-component-analysis-warnings flex-1",display:"inline",variant:"warning"},s.createElement(w.FormattedMessage,{defaultMessage:Object(y.translate)("component_navigation.last_analysis_had_warnings"),id:"component_navigation.last_analysis_had_warnings",values:{warnings:s.createElement("a",{href:"#",onClick:this.handleClick},s.createElement(w.FormattedMessage,{defaultMessage:Object(y.translate)("component_navigation.x_warnings"),id:"component_navigation.x_warnings",values:{warningsCount:this.props.warnings.length}}))}})),this.state.modal&&s.createElement(Ne,{componentKey:this.props.componentKey,onClose:this.handleCloseModal,onWarningDismiss:this.props.onWarningDismiss,warnings:this.props.warnings}))}}n(1301);var Ce=Object(i.connect)(e=>({currentUser:Object(M.getCurrentUser)(e)}))((function(e){const{branchLike:t,component:n,currentUser:a,warnings:r}=e,i=Object(h.f)(t),o=function(e,t){let n;const a=Object(h.f)(t)&&!t.isMain?t.name:void 0;switch(e.qualifier){case b.a.Portfolio:case b.a.SubPortfolio:n={type:"PORTFOLIO",component:e.key};break;case b.a.Application:n={type:"APPLICATION",component:e.key,branch:a};break;case b.a.Project:n={type:"PROJECT",component:e.key,branch:a}}return n}(n,t),c=void 0!==n.version&&i;return s.createElement(s.Fragment,null,s.createElement("div",{className:"display-flex-center flex-0 small"},r.length>0&&s.createElement("span",{className:"header-meta-warnings"},s.createElement(Le,{componentKey:n.key,onWarningDismiss:e.onWarningDismiss,warnings:r})),n.analysisDate&&s.createElement("span",{className:"spacer-left nowrap note"},s.createElement(je.a,{date:n.analysisDate})),c&&s.createElement("span",{className:"spacer-left nowrap note"},"".concat(Object(y.translate)("version")," ").concat(n.version)),Object(A.b)(a)&&void 0!==o&&!Object(h.h)(t)&&s.createElement(Oe.a,{className:"spacer-left",currentPage:o})),Object(h.h)(t)&&s.createElement("div",{className:"navbar-context-meta-secondary display-inline-flex-center"},void 0!==t.url&&s.createElement("a",{className:"display-inline-flex-center big-spacer-right",href:t.url,rel:"noopener noreferrer",target:"_blank"},Object(y.translate)("branches.see_the_pr"),s.createElement(ke.a,{className:"little-spacer-left",size:12})),s.createElement(ae.a,{branchLike:t,component:n.key})))})),we=n(317),xe=n.n(we),Pe=n(612),Se=n.n(Pe),qe=n(693),Te=n.n(qe),Be=n(6);n(1303);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Re=["/application/console","/project/admin","/project/baseline","/project/branches","/project/settings","/project/quality_profiles","/project/quality_gate","/custom_measures","/project/links","/project_roles","/project/history","background_tasks","/project/key","/project/deletion","/project/webhooks"];function Ue(e){let{hasAnalysis:t,label:n}=e,a=Me(e,["hasAnalysis","label"]);return t?s.createElement(v.Link,Object.assign({},a),n):s.createElement(xe.a,{overlay:Object(y.translate)("layout.must_be_configured")},s.createElement("a",{"aria-disabled":"true",className:"disabled-link"},n))}class Fe extends s.PureComponent{constructor(){super(...arguments),this.hasAnalysis=()=>{const{branchLikes:e=[],component:t,isInProgress:n,isPending:a}=this.props;return e.length>1||n||a||void 0!==t.analysisDate},this.isProject=()=>this.props.component.qualifier===b.a.Project,this.isDeveloper=()=>this.props.component.qualifier===b.a.Developper,this.isPortfolio=()=>{const{qualifier:e}=this.props.component;return Object(b.e)(e)},this.isApplication=()=>this.props.component.qualifier===b.a.Application,this.getConfiguration=()=>this.props.component.configuration||{},this.getQuery=()=>Ie({id:this.props.component.key},Object(h.d)(this.props.branchLike)),this.renderDashboardLink=(e,t)=>{let{id:n}=e,a=Me(e,["id"]);return s.createElement("li",null,s.createElement(v.Link,{activeClassName:"active",to:t?Object(m.t)(n):Object(m.u)(n,a)},Object(y.translate)("overview.page")))},this.renderCodeLink=(e,t,n,a)=>this.isDeveloper()?null:s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:a||n?Object(y.translate)("view_projects.page"):Object(y.translate)("code.page"),to:{pathname:"/code",query:t}})),this.renderActivityLink=(e,t)=>{const{branchLike:n}=this.props;return Object(h.h)(n)?null:s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:Object(y.translate)("project_activity.page"),to:{pathname:"/project/activity",query:t}}))},this.renderIssuesLink=(e,t)=>s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:Object(y.translate)("issues.page"),to:{pathname:"/project/issues",query:Ie({},t,{resolved:"false"})}})),this.renderComponentMeasuresLink=(e,t)=>s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:Object(y.translate)("layout.measures"),to:{pathname:"/component_measures",query:t}})),this.renderSecurityHotspotsLink=(e,t,n)=>!n&&s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:Object(y.translate)("layout.security_hotspots"),to:{pathname:"/security_hotspots",query:t}})),this.renderSecurityReports=(e,t)=>{const{branchLike:n,component:a}=this.props,{extensions:r=[]}=a;return Object(h.h)(n)?null:r.some(e=>e.key.startsWith("securityreport/"))?s.createElement("li",null,s.createElement(Ue,{activeClassName:"active",hasAnalysis:e,label:Object(y.translate)("layout.security_reports"),to:{pathname:"/project/extension/securityreport/securityreport",query:t}})):null},this.renderAdministration=(e,t,n,a)=>{const{branchLike:r,component:i}=this.props;if(!this.getConfiguration().showSettings||Object(h.h)(r))return null;const o=Re.some(e=>-1!==window.location.href.indexOf(e)),c=this.renderAdministrationLinks(e,t,n,a);return c.some(e=>null!=e)?s.createElement(Y.a,{"data-test":"administration",overlay:s.createElement("ul",{className:"menu"},c),tagName:"li"},({onToggleClick:e,open:t})=>s.createElement("a",{"aria-expanded":t,"aria-haspopup":"true",className:O("dropdown-toggle",{active:o||t}),href:"#",id:"component-navigation-admin",onClick:e},Object(y.hasMessage)("layout.settings",i.qualifier)?Object(y.translate)("layout.settings",i.qualifier):Object(y.translate)("layout.settings"),s.createElement(K.a,{className:"little-spacer-left"}))):null},this.renderAdministrationLinks=(e,t,n,a)=>[this.renderSettingsLink(e,n,a),this.renderBranchesLink(e,t),this.renderBaselineLink(e,n,a),this.renderConsoleAppLink(e,n),...this.renderAdminExtensions(e,n),this.renderProfilesLink(e),this.renderQualityGateLink(e),this.renderCustomMeasuresLink(e),this.renderLinksLink(e),this.renderPermissionsLink(e),this.renderBackgroundTasksLink(e),this.renderUpdateKeyLink(e),this.renderWebhooksLink(e,t),this.renderDeletionLink(e)],this.renderProjectInformationButton=(e,t)=>Object(h.h)(this.props.branchLike)?null:(e||t)&&s.createElement("li",null,s.createElement("a",{className:"menu-button",onClick:e=>{e.preventDefault(),e.currentTarget.blur(),this.props.onToggleProjectInfo()},role:"button",tabIndex:0},s.createElement(Se.a,{className:"little-spacer-right"}),Object(y.translate)(e?"project":"application","info.title"))),this.renderSettingsLink=(e,t,n)=>!this.getConfiguration().showSettings||t||n?null:s.createElement("li",{key:"settings"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/settings",query:e}},Object(y.translate)("project_settings.page"))),this.renderBranchesLink=(e,t)=>this.props.appState.branchesEnabled&&t&&this.getConfiguration().showSettings?s.createElement("li",{key:"branches"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/branches",query:e}},Object(y.translate)("project_branch_pull_request.page"))):null,this.renderBaselineLink=(e,t,n)=>!this.getConfiguration().showSettings||t||n?null:s.createElement("li",{key:"baseline"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/baseline",query:e}},Object(y.translate)("project_baseline.page"))),this.renderConsoleAppLink=(e,t)=>t?s.createElement("li",{key:"app-console"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/application/console",query:e}},Object(y.translate)("application_console.page"))):null,this.renderProfilesLink=e=>this.getConfiguration().showQualityProfiles?s.createElement("li",{key:"profiles"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/quality_profiles",query:e}},Object(y.translate)("project_quality_profiles.page"))):null,this.renderQualityGateLink=e=>this.getConfiguration().showQualityGates?s.createElement("li",{key:"quality_gate"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/quality_gate",query:e}},Object(y.translate)("project_quality_gate.page"))):null,this.renderCustomMeasuresLink=e=>Object(Be.isSonarCloud)()||!this.getConfiguration().showManualMeasures?null:s.createElement("li",{key:"custom_measures"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/custom_measures",query:e}},Object(y.translate)("custom_measures.page"))),this.renderLinksLink=e=>this.getConfiguration().showLinks?s.createElement("li",{key:"links"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/links",query:e}},Object(y.translate)("project_links.page"))):null,this.renderPermissionsLink=e=>this.getConfiguration().showPermissions?s.createElement("li",{key:"permissions"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project_roles",query:e}},Object(y.translate)("permissions.page"))):null,this.renderBackgroundTasksLink=e=>this.getConfiguration().showBackgroundTasks?s.createElement("li",{key:"background_tasks"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/background_tasks",query:e}},Object(y.translate)("background_tasks.page"))):null,this.renderUpdateKeyLink=e=>this.getConfiguration().showUpdateKey?s.createElement("li",{key:"update_key"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/key",query:e}},Object(y.translate)("update_key.page"))):null,this.renderWebhooksLink=(e,t)=>this.getConfiguration().showSettings&&t?s.createElement("li",{key:"webhooks"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/webhooks",query:e}},Object(y.translate)("webhooks.page"))):null,this.renderDeletionLink=e=>{const{qualifier:t}=this.props.component;return this.getConfiguration().showSettings&&[b.a.Project,b.a.Portfolio,b.a.Application].includes(t)?s.createElement("li",{key:"project_delete"},s.createElement(v.Link,{activeClassName:"active",to:{pathname:"/project/deletion",query:e}},Object(y.translate)("deletion.page"))):null},this.renderExtension=({key:e,name:t},n,a)=>{const r=n?"/project/admin/extension/".concat(e):"/project/extension/".concat(e),i=Ie({},a,{qualifier:this.props.component.qualifier});return s.createElement("li",{key:e},s.createElement(v.Link,{activeClassName:"active",to:{pathname:r,query:i}},t))},this.renderAdminExtensions=(e,t)=>(this.getConfiguration().extensions||[]).filter(e=>!t||"governance/console"!==e.key).map(t=>this.renderExtension(t,!0,e)),this.renderExtensions=e=>{const t=(this.props.component.extensions||[]).filter(e=>!e.key.startsWith("securityreport/"));return 0===t.length?null:s.createElement(Y.a,{"data-test":"extensions",overlay:s.createElement("ul",{className:"menu"},t.map(t=>this.renderExtension(t,!1,e))),tagName:"li"},({onToggleClick:e,open:t})=>s.createElement("a",{"aria-expanded":t,"aria-haspopup":"true",className:O("dropdown-toggle",{active:t}),href:"#",id:"component-navigation-more",onClick:e},Object(y.translate)("more"),s.createElement(K.a,{className:"little-spacer-left"})))}}render(){const e=this.isProject(),t=this.isApplication(),n=this.isPortfolio(),a=this.hasAnalysis(),r=this.getQuery();return s.createElement("div",{className:"display-flex-center display-flex-space-between"},s.createElement(Te.a,null,this.renderDashboardLink(r,n),this.renderIssuesLink(a,r),this.renderSecurityHotspotsLink(a,r,n),this.renderSecurityReports(a,r),this.renderComponentMeasuresLink(a,r),this.renderCodeLink(a,r,t,n),this.renderActivityLink(a,r),this.renderExtensions(r)),s.createElement(Te.a,null,this.renderAdministration(r,e,t,n),this.renderProjectInformationButton(e,t)))}}var We=Object(q.a)(Fe),ze=n(312),Ke=n(831),Ge=n.n(Ke),He=n(535),Je=n.n(He);n(1305);function Qe(e){const{children:t,displayed:n,onClose:a,top:r}=e;return s.createElement("div",{className:O("info-drawer info-drawer-pane",{open:n}),style:{top:r}},s.createElement("div",{className:"close-button"},s.createElement(ze.ClearButton,{onClick:a})),n&&s.createElement(Ge.a,{onKeydown:a},s.createElement(Je.a,{onClickOutside:a},s.createElement("div",{className:"display-flex-column max-height-100"},t))))}var Ve,Xe=n(533),Ye=n(385),Ze=n(408),$e=n(36),et=n(9),tt=n(341);function nt(e,t){const n=at(e,t),{branch:a,format:r="md",metric:s="alert_status",project:i}=t;if("url"===r)return n;{let t,r;switch(e){case Ve.marketing:t="SonarCloud";break;case Ve.measure:t=Object(y.getLocalizedMetricName)({key:s});break;case Ve.qualityGate:default:t="Quality gate"}i&&(r=Object(tt.getPathUrlAsString)(Object(m.v)(i,a),!1));const o="![".concat(t,"](").concat(n,")");return r?"[".concat(o,"](").concat(r,")"):o}}function at(e,{branch:t,project:n,color:a="white",metric:r="alert_status",pullRequest:s}){switch(e){case Ve.marketing:return"".concat(Object(tt.getHostUrl)(),"/images/project_badges/sonarcloud-").concat(a,".svg");case Ve.qualityGate:return"".concat(Object(tt.getHostUrl)(),"/api/project_badges/quality_gate?").concat(Object($e.stringify)(Object(et.omitNil)({branch:t,project:n,pullRequest:s})));case Ve.measure:default:return"".concat(Object(tt.getHostUrl)(),"/api/project_badges/measure?").concat(Object($e.stringify)(Object(et.omitNil)({branch:t,project:n,metric:r,pullRequest:s})))}}!function(e){e.measure="measure",e.qualityGate="quality_gate",e.marketing="marketing"}(Ve||(Ve={}));class rt extends s.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.type)}}render(){const{selected:e,type:t,url:n}=this.props,a=t!==Ve.measure?"128px":void 0;return s.createElement(ze.Button,{className:O("badge-button",{selected:e}),onClick:this.handleClick},s.createElement("img",{alt:Object(y.translate)("overview.badges",t,"alt"),src:n,width:a}))}}var st=n(344),it=n.n(st),ot=n(770);class ct extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={badgeMetrics:[]},this.getColorOptions=()=>["white","black","orange"].map(e=>({label:Object(y.translate)("overview.badges.options.colors",e),value:e})),this.getFormatOptions=()=>["md","url"].map(e=>({label:Object(y.translate)("overview.badges.options.formats",e),value:e})),this.getMetricOptions=()=>this.state.badgeMetrics.map(e=>{const t=this.props.metrics[e];return{value:e,label:t?Object(y.getLocalizedMetricName)(t):e}}),this.handleColorChange=({value:e})=>{this.props.updateOptions({color:e})},this.handleFormatChange=({value:e})=>{this.props.updateOptions({format:e})},this.handleMetricChange=({value:e})=>{this.props.updateOptions({metric:e})},this.renderBadgeType=(e,t)=>e===Ve.marketing?s.createElement(s.Fragment,null,s.createElement("label",{className:"spacer-right",htmlFor:"badge-color"},Object(y.translate)("color"),":"),s.createElement(it.a,{className:"input-medium",clearable:!1,name:"badge-color",onChange:this.handleColorChange,options:this.getColorOptions(),searchable:!1,value:t.color})):e===Ve.measure?s.createElement(s.Fragment,null,s.createElement("label",{className:"spacer-right",htmlFor:"badge-metric"},Object(y.translate)("overview.badges.metric"),":"),s.createElement(it.a,{className:"input-medium",clearable:!1,menuStyle:{maxHeight:100},name:"badge-metric",onChange:this.handleMetricChange,options:this.getMetricOptions(),searchable:!1,value:t.metric})):null}componentDidMount(){this.mounted=!0,this.fetchBadgeMetrics()}componentWillUnmount(){this.mounted=!1}fetchBadgeMetrics(){Object(ot.b)(!1).then(e=>{if(this.mounted){const t=e.find(e=>"api/project_badges"===e.path),n=t&&t.actions.find(e=>"measure"===e.key),a=n&&n.params&&n.params.find(e=>"metric"===e.key);a&&a.possibleValues&&this.setState({badgeMetrics:a.possibleValues})}},()=>{})}render(){const{className:e,options:t,type:n}=this.props;return s.createElement("div",{className:e},this.renderBadgeType(n,t),s.createElement("label",{className:O("spacer-right",{"spacer-top":n!==Ve.qualityGate}),htmlFor:"badge-format"},Object(y.translate)("format"),":"),s.createElement(it.a,{className:"input-medium",clearable:!1,name:"badge-format",onChange:this.handleFormatChange,options:this.getFormatOptions(),searchable:!1,value:this.props.options.format||"md"}))}}n(1312);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ht extends s.PureComponent{constructor(){super(...arguments),this.state={selectedType:Ve.measure,badgeOptions:{color:"white",metric:Ye.a.alert_status}},this.handleSelectBadge=e=>{this.setState({selectedType:e})},this.handleUpdateOptions=e=>{this.setState(t=>({badgeOptions:pt({},t.badgeOptions,{},e)}))}}render(){const{branchLike:e,project:t,qualifier:n}=this.props,{selectedType:a,badgeOptions:r}=this.state,i=pt({project:t},r,{},Object(h.d)(e));return s.createElement("div",{className:"display-flex-column"},s.createElement("h3",null,Object(y.translate)("overview.badges.get_badge",n)),s.createElement("p",{className:"big-spacer-bottom"},Object(y.translate)("overview.badges.description",n)),s.createElement(rt,{onClick:this.handleSelectBadge,selected:Ve.measure===a,type:Ve.measure,url:at(Ve.measure,i)}),s.createElement("p",{className:"huge-spacer-bottom spacer-top"},Object(y.translate)("overview.badges",Ve.measure,"description",n)),s.createElement(rt,{onClick:this.handleSelectBadge,selected:Ve.qualityGate===a,type:Ve.qualityGate,url:at(Ve.qualityGate,i)}),s.createElement("p",{className:"huge-spacer-bottom spacer-top"},Object(y.translate)("overview.badges",Ve.qualityGate,"description",n)),s.createElement(ct,{className:"big-spacer-bottom display-flex-column",metrics:this.props.metrics,options:r,type:a,updateOptions:this.handleUpdateOptions}),s.createElement(Ze.a,{isOneLine:!0,snippet:nt(a,i)}))}}var mt=n(836),dt=n.n(mt);function bt(e){const{children:t,displayed:n,onPageChange:a}=e;return s.createElement("div",{className:O("info-drawer-page info-drawer-pane display-flex-column overflow-hidden",{open:n})},s.createElement("h2",{className:"back-button big-padded bordered-bottom",onClick:()=>a()},s.createElement(dt.a,{className:"little-spacer-right"}),Object(y.translate)("back")),n&&s.createElement("div",{className:"overflow-y-auto big-padded"},t))}var gt=n(316),ft=n.n(gt),vt=n(771),yt=n(976);var kt,Et=Object(yt.a)((function(e){const{channels:t,component:n,loading:a,notifications:r,perProjectTypes:i}=e,o=r.filter(e=>e.project&&e.project===n.key);return s.createElement(s.Fragment,null,s.createElement("h3",null,Object(y.translate)("project.info.notifications")),s.createElement(x.Alert,{className:"spacer-top",variant:"info"},Object(y.translate)("notification.dispatcher.information")),s.createElement(ft.a,{loading:a},s.createElement("table",{className:"data zebra notifications-table"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",{"aria-label":Object(y.translate)("project")}),t.map(e=>s.createElement("th",{className:"text-center",key:e},s.createElement("h4",null,Object(y.translate)("notification.channel",e)))))),s.createElement(vt.a,{channels:t,checkboxId:(e,t)=>"project-notification-".concat(n.key,"-").concat(e,"-").concat(t),notifications:o,onAdd:({channel:t,type:a})=>{e.addNotification({project:n.key,channel:t,type:a})},onRemove:({channel:t,type:a})=>{e.removeNotification({project:n.key,channel:t,type:a})},project:!0,types:i}))))}));n(1314);!function(e){e[e.main=0]="main",e[e.badges=1]="badges",e[e.notifications=2]="notifications"}(kt||(kt={}));var jt=n(698),Ot=n(419),_t=n.n(Ot);var Nt=s.memo((function(e){const{label:t,to:n}=e;return s.createElement("a",{className:"display-flex-space-between bordered-bottom big-padded",onClick:()=>e.onPageChange(n),role:"link",tabIndex:0},t,s.createElement(_t.a,null))})),Lt=n(363);function Ct({componentKey:e,qualifier:t}){return s.createElement(s.Fragment,null,s.createElement("h3",null,Object(y.translate)("overview.project_key",t)),s.createElement("div",{className:"display-flex-center"},s.createElement("input",{className:"overview-key",readOnly:!0,type:"text",value:e}),s.createElement(Lt.ClipboardButton,{className:"little-spacer-left",copyValue:e})))}var wt=n(838),xt=n(586),Pt=n(839);class St extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={},this.loadLinks=()=>Object(wt.c)(this.props.component.key).then(e=>{this.mounted&&this.setState({links:e})},()=>{})}componentDidMount(){this.mounted=!0,this.loadLinks()}componentDidUpdate(e){e.component.key!==this.props.component.key&&this.loadLinks()}componentWillUnmount(){this.mounted=!1}render(){const{links:e}=this.state;if(!e||0===e.length)return null;const t=Object(xt.c)(e);return s.createElement(s.Fragment,null,s.createElement("div",{className:"big-padded bordered-bottom"},s.createElement("h3",null,Object(y.translate)("overview.external_links")),s.createElement("ul",{className:"project-info-list"},t.map(e=>s.createElement(Pt.a,{key:e.id,link:e})))))}}function qt({qualityGate:e}){return s.createElement(s.Fragment,null,s.createElement("h3",null,Object(y.translate)("project.info.quality_gate")),s.createElement("ul",{className:"project-info-list"},s.createElement("li",null,e.isDefault&&s.createElement("span",{className:"note spacer-right"},"(",Object(y.translate)("default"),")"),s.createElement(v.Link,{to:Object(m.x)(e.key)},e.name))))}var Tt=n(464);class Bt extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={deprecatedByKey:{}}}componentDidMount(){this.mounted=!0,this.loadDeprecatedRules()}componentWillUnmount(){this.mounted=!1}loadDeprecatedRules(){const e=this.props.profiles.filter(e=>!e.deleted),t=e.map(e=>this.loadDeprecatedRulesForProfile(e.key));Promise.all(t).then(t=>{if(this.mounted){const n={};t.forEach((t,a)=>{const r=e[a].key;n[r]=t}),this.setState({deprecatedByKey:n})}},()=>{})}loadDeprecatedRulesForProfile(e){const t={activation:"true",ps:1,qprofile:e,statuses:"DEPRECATED"};return Object(Tt.f)(t).then(e=>e.total)}getDeprecatedRulesCount(e){return this.state.deprecatedByKey[e.key]||0}renderProfile(e){const t=this.props.languages[e.language],n=t?t.name:e.language,a=s.createElement("div",{className:"text-ellipsis"},s.createElement("span",{className:"note spacer-right"},"(",n,")"),e.deleted?e.name:s.createElement(v.Link,{to:Object(m.z)(e.name,e.language)},e.name));if(e.deleted){const t=Object(y.translateWithParameters)("overview.deleted_profile",e.name);return s.createElement(xe.a,{key:e.key,overlay:t},s.createElement("li",{className:"project-info-deleted-profile"},a))}const r=this.getDeprecatedRulesCount(e);if(r>0){const t=Object(y.translateWithParameters)("overview.deprecated_profile",r);return s.createElement(xe.a,{key:e.key,overlay:t},s.createElement("li",{className:"project-info-deprecated-rules"},a))}return s.createElement("li",{key:e.key},a)}render(){const{headerClassName:e,profiles:t}=this.props;return s.createElement(s.Fragment,null,s.createElement("h3",{className:e},Object(y.translate)("overview.quality_profiles")),s.createElement("ul",{className:"project-info-list"},t.map(e=>this.renderProfile(e))))}}var Dt=Object(i.connect)(e=>({languages:Object(M.getLanguages)(e)}))(Bt),It=n(772),At=n.n(It),Mt=n(320),Rt=n(613);function Ut({component:e,measures:t}){const n=e.qualifier===b.a.Application,a=t.find(e=>e.metric===Ye.a.ncloc),r=n?t.find(e=>e.metric===Ye.a.projects):void 0;return s.createElement(s.Fragment,null,s.createElement("h3",null,Object(Mt.localizeMetric)(Ye.a.ncloc)),s.createElement("div",{className:"display-flex-center"},a?s.createElement(s.Fragment,null,s.createElement(Rt.a,{className:"huge",component:e.key,metric:Ye.a.ncloc},Object(Mt.formatMeasure)(a.value,"SHORT_INT")),s.createElement("span",{className:"spacer-left"},s.createElement(At.a,{value:Number(a.value)}))):s.createElement("span",null,"0"),n&&s.createElement("span",{className:"huge-spacer-left display-inline-flex-center"},r?s.createElement(Rt.a,{component:e.key,metric:Ye.a.projects},s.createElement("span",{className:"big"},Object(Mt.formatMeasure)(r.value,"SHORT_INT"))):s.createElement("span",{className:"big"},"0"),s.createElement("span",{className:"little-spacer-left text-muted"},Object(y.translate)("metric.projects.name")))))}var Ft=n(371),Wt=n(501),zt=n(356),Kt=n.n(zt),Gt=n(387),Ht=n.n(Gt),Jt=n(554);class Qt extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={searchResult:[]},this.onSearch=e=>Object(l.x)({q:e,ps:Math.min(this.props.selectedTags.length-1+10,100)}).then(({tags:e})=>{this.mounted&&this.setState({searchResult:e})},()=>{}),this.onSelect=e=>{this.props.setProjectTags([...this.props.selectedTags,e])},this.onUnselect=e=>{this.props.setProjectTags(Kt()(this.props.selectedTags,e))}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=Ht()(this.state.searchResult,this.props.selectedTags);return s.createElement(Jt.a,{listSize:10,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.selectedTags,tags:e})}}class Vt extends s.PureComponent{constructor(){super(...arguments),this.canUpdateTags=()=>{const{configuration:e}=this.props.component;return e&&e.showSettings},this.getPopupPos=(e,t)=>({top:e.height,right:t.width-e.width}),this.setTags=e=>{const{component:t}=this.props;return t.qualifier===b.a.Application?Object(l.z)({application:t.key,tags:e.join(",")}):Object(l.A)({project:t.key,tags:e.join(",")})},this.handleSetProjectTags=e=>{this.setTags(e).then(()=>this.props.onComponentChange({tags:e}),()=>{})}}render(){const{key:e}=this.props.component,t=this.props.component.tags||[];return this.canUpdateTags()?s.createElement("div",{className:"big-spacer-top project-info-tags",ref:e=>this.card=e},s.createElement(Y.a,{closeOnClick:!1,closeOnClickOutside:!0,overlay:s.createElement(Qt,{project:e,selectedTags:t,setProjectTags:this.handleSetProjectTags}),overlayPlacement:Ft.PopupPlacement.BottomLeft},s.createElement(ze.ButtonLink,{innerRef:e=>this.tagsList=e,stopPropagation:!0},s.createElement(Wt.a,{allowUpdate:!0,tags:t.length?t:[Object(y.translate)("no_tags")]})))):s.createElement("div",{className:"big-spacer-top project-info-tags"},s.createElement(Wt.a,{allowUpdate:!1,className:"note",tags:t.length?t:[Object(y.translate)("no_tags")]}))}}var Xt=s.memo((function(e){const{canConfigureNotifications:t,canUseBadges:n,component:a,measures:r=[]}=e,i=a.qualifier===b.a.Application;return s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement("h2",{className:"big-padded bordered-bottom"},Object(y.translate)(i?"application":"project","info.title"))),s.createElement("div",{className:"overflow-y-auto"},s.createElement("div",{className:"big-padded bordered-bottom"},s.createElement("div",{className:"display-flex-center"},s.createElement("h3",{className:"spacer-right"},Object(y.translate)("project.info.description")),a.visibility&&s.createElement(jt.a,{qualifier:a.qualifier,visibility:a.visibility})),a.description&&s.createElement("p",{className:"it__project-description"},a.description),s.createElement(Vt,{component:a,onComponentChange:e.onComponentChange})),s.createElement("div",{className:"big-padded bordered-bottom it__project-loc-value"},s.createElement(Ut,{component:a,measures:r})),!i&&(a.qualityGate||a.qualityProfiles&&a.qualityProfiles.length>0)&&s.createElement(s.Fragment,null,s.createElement("div",{className:"big-padded bordered-bottom"},a.qualityGate&&s.createElement(qt,{qualityGate:a.qualityGate}),a.qualityProfiles&&a.qualityProfiles.length>0&&s.createElement(Dt,{headerClassName:a.qualityGate?"big-spacer-top":void 0,profiles:a.qualityProfiles}))),!i&&s.createElement(St,{component:a}),s.createElement("div",{className:"big-padded bordered-bottom"},s.createElement(Ct,{componentKey:a.key,qualifier:a.qualifier})),n&&s.createElement(Nt,{label:Object(y.translate)("overview.badges.get_badge",a.qualifier),onPageChange:e.onPageChange,to:kt.badges}),t&&s.createElement(Nt,{label:Object(y.translate)("project.info.to_notifications"),onPageChange:e.onPageChange,to:kt.notifications})))}));class Yt extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={page:kt.main},this.setPage=(e=kt.main)=>{this.setState({page:e})},this.loadMeasures=()=>{const{component:{key:e}}=this.props;return Object(Xe.d)({component:e,metricKeys:[Ye.a.ncloc,Ye.a.projects].join()}).then(e=>{this.mounted&&this.setState({measures:e})})}}componentDidMount(){this.mounted=!0,this.props.fetchMetrics(),this.loadMeasures()}componentWillUnmount(){this.mounted=!1}render(){const{branchLike:e,component:t,currentUser:n,metrics:a}=this.props,{measures:r,page:i}=this.state,o=Object(A.b)(n)&&t.qualifier===b.a.Project,c=void 0!==a&&"private"!==t.visibility&&(t.qualifier===b.a.Application||t.qualifier===b.a.Project);return s.createElement(s.Fragment,null,s.createElement(Xt,{canConfigureNotifications:o,canUseBadges:c,component:t,measures:r,onComponentChange:this.props.onComponentChange,onPageChange:this.setPage}),c&&s.createElement(bt,{displayed:i===kt.badges,onPageChange:this.setPage},s.createElement(ht,{branchLike:e,metrics:a,project:t.key,qualifier:t.qualifier})),o&&s.createElement(bt,{displayed:i===kt.notifications,onPageChange:this.setPage},s.createElement(Et,{component:t})))}}const Zt={fetchMetrics:d.e};var $t=Object(i.connect)(e=>({currentUser:Object(M.getCurrentUser)(e),metrics:Object(M.getMetrics)(e)}),Zt)(Yt);function en(e){const{branchLikes:t,component:n,currentBranchLike:a,currentTask:r,currentTaskOnSameBranch:i,isInProgress:o,isPending:c,warnings:l}=e,{contextNavHeightRaw:p,globalNavHeightRaw:u}=L.rawSizes,[h,m]=s.useState(!1);let d;s.useEffect(()=>{const{breadcrumbs:e,key:t,name:a,organization:r}=n,{qualifier:s}=e[e.length-1];[b.a.Project,b.a.Portfolio,b.a.Application,b.a.Developper].includes(s)&&C.a.add(t,a,s.toLowerCase(),r)},[n,n.key]),(o||c||r&&r.status===g.a.Failed)&&(d=s.createElement(D,{component:n,currentTask:r,currentTaskOnSameBranch:i,isInProgress:o,isPending:c}));const f=d?p+30:p;return s.createElement(N.a,{height:f,id:"context-navigation",notif:d},s.createElement("div",{className:O("display-flex-center display-flex-space-between little-padded-top",{"padded-bottom":0===l.length})},s.createElement(ve,{branchLikes:t,component:n,currentBranchLike:a}),s.createElement(Ce,{branchLike:a,component:n,onWarningDismiss:e.onWarningDismiss,warnings:l})),s.createElement(We,{branchLike:a,branchLikes:t,component:n,isInProgress:o,isPending:c,onToggleProjectInfo:()=>m(!h)}),s.createElement(Qe,{displayed:h,onClose:()=>m(!1),top:u+p},s.createElement($t,{branchLike:a,component:n,onComponentChange:e.onComponentChange})))}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rn extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branchLikes:[],isPending:!1,loading:!0,warnings:[]},this.addQualifier=e=>nn({},e,{qualifier:e.breadcrumbs[e.breadcrumbs.length-1].qualifier}),this.fetchBranches=e=>{const t=e.breadcrumbs.find(({qualifier:e})=>["APP","TRK"].includes(e));if(t){const{key:n}=t;return Promise.all([Object(o.d)(n),"APP"===t.qualifier?Promise.resolve([]):Object(o.e)(n)]).then(([t,n])=>{const a=[...t,...n],r=this.getCurrentBranchLike(a);return this.registerBranchStatuses(a,e),{branchLike:r,branchLikes:a,component:e}})}return Promise.resolve({branchLikes:[],component:e})},this.fetchStatus=e=>{Object(c.i)(e.key).then(({current:e,queue:t})=>{if(this.mounted){let n=!1;this.setState(({branchLike:a,component:s,currentTask:i,tasksInProgress:o})=>{const c=this.getCurrentTask(e,a),l=this.getPendingTasks(t,a),p=l.filter(e=>e.status===g.a.InProgress),u=!i&&c||i&&c&&i.id!==c.id,h=o&&(p.length!==o.length||r()(p,o,"id").length>0);return n=Boolean(u||h),!n&&s&&(p.length>0||!s.analysisDate)&&(window.clearTimeout(this.watchStatusTimer),this.watchStatusTimer=window.setTimeout(()=>this.fetchStatus(s),3e3)),{currentTask:c,isPending:l.some(e=>e.status===g.a.Pending),tasksInProgress:p}},()=>{n&&this.fetchComponent()})}},()=>{})},this.fetchWarnings=(e,t)=>{"TRK"===e.qualifier&&Object(c.e)(nn({component:e.key},Object(h.d)(t))).then(({component:e})=>{this.setState({warnings:e.warnings})},()=>{})},this.getCurrentBranchLike=e=>{const{query:t}=this.props.location;return t.pullRequest?e.find(e=>Object(h.h)(e)&&e.key===t.pullRequest):e.find(e=>Object(h.f)(e)&&(t.branch?e.name===t.branch:e.isMain))},this.getCurrentTask=(e,t)=>{if(e)return e.status===g.a.Failed||this.isSameBranch(e,t)?e:void 0},this.getPendingTasks=(e,t)=>e.filter(e=>this.isSameBranch(e,t)),this.isSameBranch=(e,t)=>{if(t){if(Object(h.g)(t))return!e.pullRequest&&!e.branch||t.name===e.branch;if(Object(h.h)(t))return t.key===e.pullRequest;if(Object(h.f)(t))return t.name===e.branch}return!e.branch&&!e.pullRequest},this.registerBranchStatuses=(e,t)=>{e.forEach(e=>{e.status&&this.props.registerBranchStatus(e,t.key,e.status.qualityGateStatus)})},this.handleComponentChange=e=>{this.mounted&&this.setState(t=>{if(t.component){return{component:nn({},t.component,{},e)}}return null})},this.handleBranchesChange=()=>{this.mounted&&this.state.component&&this.fetchBranches(this.state.component).then(({branchLike:e,branchLikes:t})=>{this.mounted&&this.setState({branchLike:e,branchLikes:t})},()=>{})},this.handleWarningDismiss=()=>{const{component:e}=this.state;void 0!==e&&this.fetchWarnings(e)}}componentDidMount(){this.mounted=!0,this.fetchComponent()}componentDidUpdate(e){e.location.query.id===this.props.location.query.id&&e.location.query.branch===this.props.location.query.branch&&e.location.query.pullRequest===this.props.location.query.pullRequest||this.fetchComponent()}componentWillUnmount(){this.mounted=!1,window.clearTimeout(this.watchStatusTimer)}fetchComponent(){const{branch:e,id:t,pullRequest:n}=this.props.location.query;this.setState({loading:!0});Promise.all([Object(p.a)({component:t,branch:e,pullRequest:n}),Object(l.j)({component:t,branch:e,pullRequest:n})]).then(([e,{component:t}])=>{const n=this.addQualifier(nn({},e,{},t));return this.props.location.pathname.match("dashboard")&&Object(b.e)(n.qualifier)&&this.props.router.replace(Object(m.t)(t.key)),n},e=>{this.mounted&&(e&&403===e.status?this.props.requireAuthorization(this.props.router):this.setState({component:void 0,loading:!1}))}).then(this.fetchBranches).then(({branchLike:e,branchLikes:t,component:n})=>{this.mounted&&(this.setState({branchLike:e,branchLikes:t,component:n,loading:!1}),this.fetchStatus(n),this.fetchWarnings(n,e))},()=>{})}render(){const{component:e,loading:t}=this.state;if(!t&&!e)return s.createElement(k,null);if(null==e?void 0:e.needIssueSync)return s.createElement(j.b,{component:e});const{branchLike:n,branchLikes:a,currentTask:r,isPending:i,tasksInProgress:o}=this.state,c=o&&o.length>0;return s.createElement("div",null,e&&!["FIL","UTS"].includes(e.qualifier)&&s.createElement(en,{branchLikes:a,component:e,currentBranchLike:n,currentTask:r,currentTaskOnSameBranch:r&&this.isSameBranch(r,n),isInProgress:c,isPending:i,onComponentChange:this.handleComponentChange,onWarningDismiss:this.handleWarningDismiss,warnings:this.state.warnings}),t?s.createElement("div",{className:"page page-limited"},s.createElement("i",{className:"spinner"})):s.createElement(E.a.Provider,{value:{branchLike:n,component:e}},s.cloneElement(this.props.children,{branchLike:n,branchLikes:a,component:e,isInProgress:c,isPending:i,onBranchesChange:this.handleBranchesChange,onComponentChange:this.handleComponentChange})))}}const sn={fetchOrganization:d.f,registerBranchStatus:d.h,requireAuthorization:d.i};t.default=Object(u.a)(Object(i.connect)(null,sn)(rn))},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(311),r=n(2),s=n(363),i=n(386);n(696);function o(e){const{isOneLine:t,noCopy:n,snippet:o}=e,c=r.useRef(null);let l;return l=Array.isArray(o)?o.filter(e=>Object(i.isDefined)(e)).join(t?" ":" \\\n  "):o,r.createElement("div",{className:a("code-snippet spacer-top spacer-bottom display-flex-row",{})},r.createElement("pre",{className:"flex-1",ref:c},l),!n&&r.createElement(s.ClipboardButton,{copyValue:l}))}},440:function(e,t,n){var a=n(313),r=n(516);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(387),r=n.n(a),s=n(311),i=n(2),o=n(350),c=n.n(o),l=n(31),p=n(338),u=n.n(p);function h(e){const{active:t,custom:n,disabled:a,element:r,selected:o}=e,c=()=>e.onHover(r),p=s({active:t,disabled:a}),h=e.renderLabel(r);return i.createElement("li",{onFocus:c,onMouseOver:c},i.createElement(u.a,{checked:Boolean(o),className:p,disabled:a,id:r,onCheck:e.onSelectChange},n?i.createElement("span",{"aria-label":"".concat(Object(l.translate)("create_new_element"),": ").concat(h),className:"little-spacer-left"},i.createElement("span",{"aria-hidden":!0,className:"little-spacer-right"},"+"),h):i.createElement("span",{className:"little-spacer-left"},h)))}class m extends i.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSelectChange=(e,t)=>{e?this.onSelectItem(t):this.onUnselectItem(t)},this.handleSearchChange=e=>{this.onSearchQuery(this.props.validateSearchInput(e))},this.handleElementHover=e=>{this.setState((t,n)=>({activeIdx:this.getAllElements(n,t).indexOf(e)}))},this.handleKeyboard=e=>{switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),this.setState(this.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),this.setState(this.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:this.state.activeIdx>=0&&this.toggleSelect(this.getAllElements(this.props,this.state)[this.state.activeIdx])}},this.onSearchQuery=e=>{this.setState({activeIdx:0,loading:!0,query:e}),this.props.onSearch(e).then(this.stopLoading,this.stopLoading)},this.onSelectItem=e=>{this.isNewElement(e,this.props)&&this.onSearchQuery(""),this.props.onSelect(e)},this.onUnselectItem=e=>this.props.onUnselect(e),this.isNewElement=(e,{selectedElements:t,elements:n})=>e.length>0&&-1===t.indexOf(e)&&-1===n.indexOf(e),this.updateSelectedElements=e=>{this.setState(t=>t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:[...e.selectedElements]})},this.updateUnselectedElements=e=>{this.setState(t=>0===e.listSize?{unselectedElements:r()(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:r()(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)})},this.getAllElements=(e,t)=>this.isNewElement(t.query,e)?[...t.selectedElements,...t.unselectedElements,t.query]:[...t.selectedElements,...t.unselectedElements],this.setElementActive=e=>this.setState({activeIdx:e}),this.selectNextElement=(e,t)=>{const{activeIdx:n}=e,a=this.getAllElements(t,e);return n<0||n>=a.length-1?{activeIdx:0}:{activeIdx:n+1}},this.selectPreviousElement=(e,t)=>{const{activeIdx:n}=e,a=this.getAllElements(t,e);if(n<=0){return{activeIdx:a.length-1}}return{activeIdx:n-1}},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.toggleSelect=e=>{-1===this.props.selectedElements.indexOf(e)?this.onSelectItem(e):this.onUnselectItem(e)},this.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]}}componentDidMount(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)}componentWillReceiveProps(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);const t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}}componentDidUpdate(){this.searchInput&&this.searchInput.focus()}componentWillUnmount(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)}render(){const{allowSelection:e=!0,allowNewElements:t=!0,footerNode:n=""}=this.props,{renderLabel:a}=this.props,{query:r,activeIdx:o,selectedElements:p,unselectedElements:u}=this.state,m=this.getAllElements(this.props,this.state)[o],d=t&&this.isNewElement(r,this.props),b=0===this.props.listSize,g=s("menu",{"menu-vertically-limited":b,"spacer-top":b,"with-top-separator":b,"with-bottom-separator":Boolean(n)});return i.createElement("div",{className:"multi-select",ref:e=>this.container=e},i.createElement("div",{className:"menu-search"},i.createElement(c.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:r})),i.createElement("ul",{className:g},p.length>0&&p.map(e=>i.createElement(h,{active:m===e,element:e,key:e,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a,selected:!0})),u.length>0&&u.map(t=>i.createElement(h,{active:m===t,disabled:!e,element:t,key:t,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a})),d&&i.createElement(h,{active:m===r,custom:!0,element:r,key:r,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:a}),!d&&p.length<1&&u.length<1&&i.createElement("li",{className:"spacer-left"},Object(l.translateWithParameters)("no_results_for_x",r))),n)}}m.defaultProps={filterSelected:(e,t)=>t.filter(t=>t.includes(e)),listSize:0,renderLabel:e=>e,validateSearchInput:e=>e}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(311),r=n(2),s=n(337),i=n.n(s),o=n(416),c=n.n(o),l=n(31);n(440);function p({allowUpdate:e=!1,className:t,tags:n}){return r.createElement("span",{"aria-label":Object(l.translateWithParameters)("tags_list_x",n.join(", ")),className:a("tags-list",t)},r.createElement(c.a,{className:"text-middle"}),r.createElement("span",{"aria-hidden":!0,className:"text-ellipsis text-middle",title:n.join(", ")},n.join(", ")),e&&r.createElement(i.a,{className:"text-middle"}))}},516:function(e,t,n){(t=n(314)(!1)).push([e.i,".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}",""]),e.exports=t},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(9),r=n(323);function s(e){return Object(a.getJSON)("/api/navigation/component",e).catch(r.a)}function i(){return Object(a.getJSON)("/api/navigation/marketplace").catch(r.a)}function o(){return Object(a.getJSON)("/api/navigation/settings").catch(r.a)}},554:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(31),s=n(495);n(440);function i(e){return a.createElement(s.a,{elements:e.tags,listSize:e.listSize,onSearch:e.onSearch,onSelect:e.onSelect,onUnselect:e.onUnselect,placeholder:Object(r.translate)("search.search_for_tags"),selectedElements:e.selectedTags,validateSearchInput:o})}function o(e){return e.toLowerCase().replace(/[^-a-z0-9+#.]/gi,"")}},584:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o}));const a={ALL:"__ALL__",ALL_EXCEPT_PENDING:"__ALL_EXCEPT_PENDING__"},r="ALL_TYPES",s={ALL:"__ALL__",ONLY_CURRENTS:"CURRENTS"},i={status:a.ALL_EXCEPT_PENDING,taskType:r,currents:s.ALL,minSubmittedAt:void 0,maxExecutedAt:void 0,query:""},o=250},585:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(2),r=n(390),s=n.n(r),i=n(515),o=n.n(i),c=n(328);function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e){let{branchLike:t}=e,n=l(e,["branchLike"]);return Object(c.h)(t)?a.createElement(o.a,Object.assign({},n)):a.createElement(s.a,Object.assign({},n))}},586:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return u}));var a=n(330),r=n.n(a),s=n(483),i=n.n(s),o=n(31);const c=["homepage","ci","issue","scm","scm_dev"];function l(e){return c.includes(e.type)}function p(e){const[t,n]=i()(e,l);return[...r()(t,e=>c.indexOf(e.type)),...r()(n,e=>e.name&&e.name.toLowerCase())]}function u(e){return l(e)?Object(o.translate)("project_links",e.type):e.name}},608:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p}));var a=n(9),r=n(323);function s(e){return Object(a.getJSON)("/api/project_branches/list",{project:e}).then(e=>e.branches,r.a)}function i(e){return Object(a.getJSON)("/api/project_pull_requests/list",{project:e}).then(e=>e.pullRequests,r.a)}function o(e){return Object(a.post)("/api/project_branches/delete",e).catch(r.a)}function c(e){return Object(a.post)("/api/project_pull_requests/delete",e).catch(r.a)}function l(e,t){return Object(a.post)("/api/project_branches/rename",{project:e,name:t}).catch(r.a)}function p(e,t,n){return Object(a.post)("/api/project_branches/set_automatic_deletion_protection",{project:e,branch:t,value:n}).catch(r.a)}},610:function(e,t,n){"use strict";var a=n(311),r=n(2),s=n(325),i=n(312),o=n(317),c=n.n(o),l=n(611),p=n.n(l),u=n(31),h=n(347),m=n(326),d=n(549);const b={type:"PROJECTS"};class g extends r.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.setHomePage(this.props.currentPage)},this.handleReset=()=>{this.props.setHomePage(b)}}render(){const{currentPage:e,currentUser:t}=this.props;if(!Object(h.b)(t))return null;const{homepage:n}=t,s=void 0!==n&&v(n,e),o=s&&v(e,b),l=s?Object(u.translate)(o?"homepage.current.is_default":"homepage.current"):Object(u.translate)("homepage.check");return r.createElement(c.a,{overlay:l},o?r.createElement("span",{"aria-label":l,className:a("display-inline-block",this.props.className)},r.createElement(p.a,{filled:s})):r.createElement(i.ButtonLink,{"aria-label":l,className:a("link-no-underline","set-homepage-link",this.props.className),onClick:s?this.handleReset:this.handleClick},r.createElement(p.a,{filled:s})))}}const f={setHomePage:d.f};function v(e,t){return e.type===t.type&&e.branch===t.branch&&e.component===t.component&&e.organization===t.organization}t.a=Object(s.connect)(e=>({currentUser:Object(m.getCurrentUser)(e)}),f)(g)},613:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(2),r=n(318),s=n(328),i=n(321);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=["violations","new_violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities"],u={blocker_violations:{resolved:"false",severities:"BLOCKER"},new_blocker_violations:{resolved:"false",severities:"BLOCKER"},critical_violations:{resolved:"false",severities:"CRITICAL"},new_critical_violations:{resolved:"false",severities:"CRITICAL"},major_violations:{resolved:"false",severities:"MAJOR"},new_major_violations:{resolved:"false",severities:"MAJOR"},minor_violations:{resolved:"false",severities:"MINOR"},new_minor_violations:{resolved:"false",severities:"MINOR"},info_violations:{resolved:"false",severities:"INFO"},new_info_violations:{resolved:"false",severities:"INFO"},open_issues:{resolved:"false",statuses:"OPEN"},reopened_issues:{resolved:"false",statuses:"REOPENED"},confirmed_issues:{resolved:"false",statuses:"CONFIRMED"},false_positive_issues:{resolutions:"FALSE-POSITIVE"},code_smells:{resolved:"false",types:"CODE_SMELL"},new_code_smells:{resolved:"false",types:"CODE_SMELL"},bugs:{resolved:"false",types:"BUG"},new_bugs:{resolved:"false",types:"BUG"},vulnerabilities:{resolved:"false",types:"VULNERABILITY"},new_vulnerabilities:{resolved:"false",types:"VULNERABILITY"}};class h extends a.PureComponent{constructor(){super(...arguments),this.isIssueMeasure=()=>-1!==p.indexOf(this.props.metric),this.propsToIssueParams=()=>{const e=c({},u[this.props.metric]||{resolved:"false"});return this.props.sinceLeakPeriod&&(e.sinceLeakPeriod=!0),e},this.renderIssuesLink=()=>{const e=Object(i.j)(this.props.component,c({},this.propsToIssueParams(),{},Object(s.d)(this.props.branchLike)));return a.createElement(r.Link,{className:this.props.className,to:e},this.props.children)}}render(){if(this.isIssueMeasure())return this.renderIssuesLink();const e=Object(i.h)({componentKey:this.props.component,metric:this.props.metric,branchLike:this.props.branchLike,listView:!0});return a.createElement(r.Link,{className:this.props.className,to:e},this.props.children)}}},654:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(324),s=n.n(r),i=n(397),o=n.n(i),c=n(500);function l(e){const{className:t,content:n,links:r,title:i}=e;return a.createElement(s.a,{className:t,overlay:a.createElement("div",{className:"big-padded-top big-padded-bottom"},i&&a.createElement("div",{className:"spacer-bottom"},a.createElement("strong",null,i)),n&&a.createElement("p",null,n),r&&a.createElement(a.Fragment,null,a.createElement("hr",{className:"big-spacer-top big-spacer-bottom"}),r.map(({href:e,label:t})=>a.createElement("div",{className:"little-spacer-bottom",key:t},a.createElement("a",{className:"display-inline-flex-center link-with-icon",href:e,rel:"noopener noreferrer",target:"_blank"},Object(c.isWebUri)(e)&&a.createElement(o.a,{size:14,className:"spacer-right"}),a.createElement("span",null,t))))))},e.children)}},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=a.createContext({branchLike:void 0,component:void 0})},696:function(e,t,n){var a=n(313),r=n(697);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},697:function(e,t,n){(t=n(314)(!1)).push([e.i,".code-snippet{background:#e6e6e6;border-radius:3px}.code-snippet pre{padding:8px 16px;border-right:1px solid hsla(0,0%,78.4%,.5);overflow-y:hidden;overflow-x:auto}.code-snippet>button{height:auto;border:0;border-radius:0;background:transparent;padding:8px}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:hsla(0,0%,78.4%,.5);color:#236a97}",""]),e.exports=t},698:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(311),r=n(2),s=n(317),i=n.n(s),o=n(31);function c({className:e,qualifier:t,visibility:n}){return"private"!==n?null:r.createElement(i.a,{overlay:Object(o.translate)("visibility",n,"description",t)},r.createElement("div",{className:a("badge",e)},Object(o.translate)("visibility",n)))}},704:function(e,t,n){"use strict";var a=n(500);t.a=function(e){return/^(\/|scm:)/.test(e)||!!Object(a.isWebUri)(e)}},755:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(691),s=n.n(r),i=n(9);function o(e){return Object(i.post)("/api/favorites/add",{component:e})}function c(e){return Object(i.post)("/api/favorites/remove",{component:e})}class l extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.toggleFavorite=()=>{const e=!this.state.favorite;return(e?o:c)(this.props.component).then(()=>{this.mounted&&this.setState({favorite:e},()=>{this.props.handleFavorite&&this.props.handleFavorite(this.props.component,e)})})},this.state={favorite:e.favorite}}componentDidMount(){this.mounted=!0}componentDidUpdate(e,t){t.favorite!==this.props.favorite&&this.setState({favorite:this.props.favorite})}componentWillUnmount(){this.mounted=!1}render(){const{className:e,qualifier:t}=this.props,{favorite:n}=this.state;return a.createElement(s.a,{className:e,favorite:n,qualifier:t,toggleFavorite:this.toggleFavorite})}}},769:function(e,t,n){"use strict";var a=n(2),r=n(325),s=n(374),i=n.n(s),o=n(326);t.a=Object(r.connect)((e,{branchLike:t,component:n})=>{const{status:a}=Object(o.getBranchStatusByBranchLike)(e,n,t);return{status:a}})((function({status:e}){return e?a.createElement(i.a,{level:e,small:!0}):null}))},770:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(9),r=n(323);function s(e=!0){return Object(a.getJSON)("/api/webservices/list",{include_internals:e}).then(e=>e.webServices).catch(r.a)}function i(e,t){return Object(a.getJSON)("/api/webservices/response_example",{controller:e,action:t}).catch(r.a)}},771:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(338),s=n.n(r),i=n(31);class o extends a.PureComponent{isEnabled(e,t){return!!this.props.notifications.find(n=>n.type===e&&n.channel===t)}handleCheck(e,t,n){n?this.props.onAdd({type:e,channel:t}):this.props.onRemove({type:e,channel:t})}getDispatcherLabel(e){const t=["notification.dispatcher",e],n=[...t,"project"];return this.props.project&&Object(i.hasMessage)(...n)?Object(i.translate)(...n):Object(i.translate)(...t)}render(){const{channels:e,checkboxId:t,types:n}=this.props;return a.createElement("tbody",null,n.map(n=>a.createElement("tr",{key:n},a.createElement("td",null,this.getDispatcherLabel(n)),e.map(e=>a.createElement("td",{className:"text-center",key:e},a.createElement(s.a,{checked:this.isEnabled(n,e),id:t(n,e),onCheck:t=>this.handleCheck(n,e,t)}))))))}}},838:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(9),r=n(323);function s(e){return Object(a.getJSON)("/api/project_links/search",{projectKey:e}).then(e=>e.links,r.a)}function i(e){return Object(a.post)("/api/project_links/delete",{id:e}).catch(r.a)}function o(e){return Object(a.postJSON)("/api/project_links/create",e).then(e=>e.link,r.a)}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(312),s=n(699),i=n.n(s),o=n(586),c=n(704);class l extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.handleClick=e=>{e.preventDefault(),this.setState(({expanded:e})=>({expanded:!e}))},this.handleCollapse=()=>{this.setState({expanded:!1})},this.handleSelect=e=>{e.currentTarget.select()}}render(){const{iconOnly:e,link:t}=this.props,n=Object(o.a)(t),s=Object(c.a)(t.url);return a.createElement("li",null,a.createElement("a",{className:"link-with-icon",href:s?t.url:void 0,onClick:s?void 0:this.handleClick,rel:"nofollow noreferrer noopener",target:"_blank",title:n},a.createElement(i.a,{className:"little-spacer-right",type:t.type}),!e&&n),this.state.expanded&&a.createElement("div",{className:"little-spacer-top display-flex-center"},a.createElement("input",{className:"overview-key width-80",onClick:this.handleSelect,readOnly:!0,type:"text",value:t.url}),a.createElement(r.ClearButton,{className:"little-spacer-left",onClick:this.handleCollapse})))}}},976:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(837),r=n.n(a),s=n(2),i=n(9),o=n(323);var c=n(534);function l(e){class t extends s.Component{constructor(){super(...arguments),this.mounted=!1,this.state={channels:[],globalTypes:[],loading:!0,notifications:[],perProjectTypes:[]},this.fetchNotifications=()=>{Object(i.getJSON)("/api/notifications/list").catch(o.a).then(e=>{this.mounted&&this.setState({channels:e.channels,globalTypes:e.globalTypes,loading:!1,notifications:e.notifications,perProjectTypes:e.perProjectTypes})},()=>{this.mounted&&this.setState({loading:!1})})},this.addNotificationToState=e=>{this.setState(t=>({notifications:r()([...t.notifications,e],this.areNotificationsEqual)}))},this.removeNotificationFromState=e=>{this.setState(t=>({notifications:t.notifications.filter(t=>!this.areNotificationsEqual(t,e))}))},this.addNotification=e=>{this.addNotificationToState(e),function(e){return Object(i.post)("/api/notifications/add",e).catch(o.a)}({channel:e.channel,project:e.project,type:e.type}).catch(()=>{this.removeNotificationFromState(e)})},this.removeNotification=e=>{this.removeNotificationFromState(e),function(e){return Object(i.post)("/api/notifications/remove",e).catch(o.a)}({channel:e.channel,project:e.project,type:e.type}).catch(()=>{this.addNotificationToState(e)})},this.areNotificationsEqual=(e,t)=>e.channel===t.channel&&e.type===t.type&&e.project===t.project}componentDidMount(){this.mounted=!0,this.fetchNotifications()}componentWillUnmount(){this.mounted=!1}render(){const{channels:t,globalTypes:n,loading:a,notifications:r,perProjectTypes:i}=this.state;return s.createElement(e,Object.assign({},this.props,{addNotification:this.addNotification,channels:t,globalTypes:n,loading:a,notifications:r,perProjectTypes:i,removeNotification:this.removeNotification}))}}return t.displayName=Object(c.a)(e,"withNotifications"),t}}}]);
//# sourceMappingURL=276.m.138103fe.chunk.js.map